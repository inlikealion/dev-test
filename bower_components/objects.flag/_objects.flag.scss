/*------------------------------------*\
    #FLAG
\*------------------------------------*/

/**
 * The flag object is a design pattern similar to the media object, however it
 * utilises `display: table[-cell];` to give us control over the vertical
 * alignments of the text and image. csswizardry.com/2013/05/the-flag-object
 *
 * Predefine the variables below in order to alter and enable specific features.
 */
$inuit-flag-gutter:         $inuit-base-spacing-unit !default;
$inuit-flag-gutter--small:  halve($inuit-flag-gutter) !default;
$inuit-flag-gutter--large:  double($inuit-flag-gutter) !default;

$inuit-enable-flag--small:  false !default;
$inuit-enable-flag--large:  false !default;
$inuit-enable-flag--rev:    false !default;
$inuit-enable-flag--flush:  false !default;
$inuit-enable-flag--top:    false !default;
$inuit-enable-flag--bottom: false !default;





/**
 * 1. Allows us to control vertical alignments
 * 2. Force the object to be the full width of its parent. Combined with [1],
 *    this makes the object behave in a quasi-`display: block;` manner.
 */
.#{$inuit-namespace}flag,
%#{$inuit-namespace}flag {
    display: table; /* [1] */
    width: 100%; /* [2] */
}

    /**
     * Items within a flag object. There should only ever be one of each.
     *
     * 1. Default to aligning content to their middles.
     */
    .#{$inuit-namespace}flag__img,
    %#{$inuit-namespace}flag__img,
    .#{$inuit-namespace}flag__body,
    %#{$inuit-namespace}flag__body {
        display: table-cell;
        vertical-align: middle; /* [1] */
    }

    /**
     * Flag images have a space between them and the body of the object.
     */
    .#{$inuit-namespace}flag__img,
    %#{$inuit-namespace}flag__img {
        padding-right: $inuit-flag-gutter;

        > img {
            display: block;
            max-width: none;
        }

    }

    /**
     * The container for the main content of the flag object.
     *
     * 1. Forces the `.flag__body` to take up all remaining space.
     */
    .#{$inuit-namespace}flag__body,
    %#{$inuit-namespace}flag__body {
        width: 100%; /* [1] */
    }





/**
 * Size variants.
 */

@if ($inuit-enable-flag--small == true) {

    .#{$inuit-namespace}flag--small,
    %#{$inuit-namespace}flag--small {

        > .#{$inuit-namespace}flag__img,
        > %#{$inuit-namespace}flag__img {
            padding-right: $inuit-flag-gutter--small;
        }

        @if ($inuit-enable-flag--rev == true) {

            &.#{$inuit-namespace}flag--rev,
            &%#{$inuit-namespace}flag--rev {

                > .#{$inuit-namespace}flag__img,
                > %#{$inuit-namespace}flag__img {
                    padding-right: 0;
                    padding-left:  $inuit-flag-gutter--small;
                }

            }

        }

    }

}

@if ($inuit-enable-flag--large == true) {

    .#{$inuit-namespace}flag--large,
    %#{$inuit-namespace}flag--large {

        > .#{$inuit-namespace}flag__img,
        > %#{$inuit-namespace}flag__img {
            padding-right: $inuit-flag-gutter--large;
        }

        @if ($inuit-enable-flag--rev == true) {

            &.#{$inuit-namespace}flag--rev,
            &%#{$inuit-namespace}flag--rev {

                > .#{$inuit-namespace}flag__img,
                > %#{$inuit-namespace}flag__img {
                    padding-right: 0;
                    padding-left:  $inuit-flag-gutter--large;
                }

            }

        }

    }

}





/**
 * Reversed flag objects have their image-content to the right, and text-content
 * to the left.
 *
 * 1. Swap the rendered direction of the object…
 * 2. …and reset it.
 * 3. Reassign margins to the correct sides.
 */

@if ($inuit-enable-flag--rev == true) {

    .#{$inuit-namespace}flag--rev,
    %#{$inuit-namespace}flag--rev {
        direction: rtl; /* [1] */

        > .#{$inuit-namespace}flag__img,
        > %#{$inuit-namespace}flag__img,
        > .#{$inuit-namespace}flag__body,
        > %#{$inuit-namespace}flag__body {
            direction: ltr; /* [2] */
        }

        > .#{$inuit-namespace}flag__img,
        > %#{$inuit-namespace}flag__img {
            padding-right: 0; /* [3] */
            padding-left: $inuit-flag-gutter; /* [3] */
        }

    }

}





/**
 * Flush flag objects have no space between the image- and text-content.
 */

@if ($inuit-enable-flag--flush == true) {

    .#{$inuit-namespace}flag--flush,
    %#{$inuit-namespace}flag--flush {

        > .#{$inuit-namespace}flag__img,
        > %#{$inuit-namespace}flag__img {
            padding-right: 0;
            padding-left:  0;
        }

    }

}





/**
 * Vertical alignment variations of the flag object. Either align image- and
 * text-content to the tops of bottoms of each other.
 */

@if ($inuit-enable-flag--top == true) {

    .#{$inuit-namespace}flag--top,
    %#{$inuit-namespace}flag--top {

        .#{$inuit-namespace}flag__img,
        %#{$inuit-namespace}flag__img,
        .#{$inuit-namespace}flag__body,
        %#{$inuit-namespace}flag__body {
            vertical-align: top;
        }

    }

}

@if ($inuit-enable-flag--bottom == true) {

    .#{$inuit-namespace}flag--bottom,
    %#{$inuit-namespace}flag--bottom {

        .#{$inuit-namespace}flag__img,
        %#{$inuit-namespace}flag__img,
        .#{$inuit-namespace}flag__body,
        %#{$inuit-namespace}flag__body {
            vertical-align: bottom;
        }

    }

}
